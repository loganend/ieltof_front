{"remainingRequest":"/Users/serqeycheremisin/ieltof/node_modules/babel-loader/lib/index.js!/Users/serqeycheremisin/ieltof/src/components/Chat/index.js","dependencies":[{"path":"/Users/serqeycheremisin/ieltof/src/components/Chat/index.js","mtime":1523225617733},{"path":"/Users/serqeycheremisin/ieltof/.babelrc","mtime":1523141114949},{"path":"/Users/serqeycheremisin/ieltof/node_modules/babel-loader/lib/index.js","mtime":1520329890000},{"path":"/Users/serqeycheremisin/ieltof/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/serqeycheremisin/ieltof/node_modules/babel-loader/lib/index.js","mtime":1520329890000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactChatWidget = require(\"react-chat-widget\");\n\nvar _TestStore = require(\"../../stores/TestStore\");\n\nvar _TestStore2 = _interopRequireDefault(_TestStore);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Chat = function (_React$Component) {\n    _inherits(Chat, _React$Component);\n\n    function Chat(props) {\n        _classCallCheck(this, Chat);\n\n        var _this = _possibleConstructorReturn(this, (Chat.__proto__ || Object.getPrototypeOf(Chat)).call(this, props));\n\n        _this.handleNewUserMessage = function (newMessage) {\n\n            var message = {\n                type: \"sendMessage\",\n                action: \"sendMessage\",\n                body: {\n                    Author: \"aa\",\n                    Body: newMessage,\n                    Room: 1,\n                    Time: 0\n                }\n            };\n\n            _this.socket.send(JSON.stringify(message));\n\n            console.log(\"New message incomig! \" + newMessage);\n        };\n\n        _this.socket = _this.props.socket;\n        _this.onChatMessage = _this.onChatMessage.bind(_this);\n        return _this;\n    }\n\n    _createClass(Chat, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {}\n    }, {\n        key: \"componentWillMount\",\n        value: function componentWillMount() {\n            _TestStore2.default.on(\"chat_message\", this.onChatMessage);\n        }\n    }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n            _TestStore2.default.removeListener(\"chat_message\", this.onChatMessage);\n        }\n    }, {\n        key: \"onChatMessage\",\n        value: function onChatMessage() {\n            var message = _TestStore2.default.getChatMessage();\n            console.log(\"message\" + message);\n            (0, _reactChatWidget.addResponseMessage)(message);\n            this.setState({});\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(_reactChatWidget.Widget, {\n                handleNewUserMessage: this.handleNewUserMessage,\n                title: \"\",\n                subtitle: \"\"\n            });\n        }\n    }]);\n\n    return Chat;\n}(_react2.default.Component);\n\nexports.default = Chat;",{"version":3,"sources":["src/components/Chat/index.js"],"names":["Chat","props","handleNewUserMessage","newMessage","message","type","action","body","Author","Body","Room","Time","socket","send","JSON","stringify","console","log","onChatMessage","bind","on","removeListener","getChatMessage","setState","Component"],"mappings":";;;;;;;;AAAA;;;;AACA;;AACA;;;;;;;;;;;;IAEqBA,I;;;AAEjB,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA,gHACTA,KADS;;AAAA,cAwBnBC,oBAxBmB,GAwBI,UAACC,UAAD,EAAgB;;AAEnC,gBAAIC,UAAS;AACTC,sBAAM,aADG;AAETC,wBAAQ,aAFC;AAGTC,sBAAM;AACFC,4BAAQ,IADN;AAEFC,0BAAON,UAFL;AAGFO,0BAAO,CAHL;AAIFC,0BAAM;AAJJ;AAHG,aAAb;;AAWA,kBAAKC,MAAL,CAAYC,IAAZ,CAAiBC,KAAKC,SAAL,CAAeX,OAAf,CAAjB;;AAEAY,oBAAQC,GAAR,2BAAoCd,UAApC;AACH,SAxCkB;;AAEf,cAAKS,MAAL,GAAc,MAAKX,KAAL,CAAWW,MAAzB;AACA,cAAKM,aAAL,GAAqB,MAAKA,aAAL,CAAmBC,IAAnB,OAArB;AAHe;AAIlB;;;;4CAEmB,CACnB;;;6CAEoB;AACjB,gCAAUC,EAAV,CAAa,cAAb,EAA6B,KAAKF,aAAlC;AACH;;;+CAEsB;AACnB,gCAAUG,cAAV,CAAyB,cAAzB,EAAyC,KAAKH,aAA9C;AACH;;;wCAEe;AACZ,gBAAId,UAAU,oBAAUkB,cAAV,EAAd;AACAN,oBAAQC,GAAR,CAAY,YAAYb,OAAxB;AACA,qDAAmBA,OAAnB;AACA,iBAAKmB,QAAL,CAAc,EAAd;AACH;;;iCAoBQ;AACL,mBACI;AACI,sCAAsB,KAAKrB,oBAD/B;AAEI,uBAAM,EAFV;AAGI,0BAAS;AAHb,cADJ;AAOH;;;;EApD6B,gBAAMsB,S;;kBAAnBxB,I","file":"index.js","sourceRoot":"/Users/serqeycheremisin/ieltof","sourcesContent":["import React, {Component} from \"react\";\nimport {Widget, addResponseMessage} from \"react-chat-widget\";\nimport TestStore from \"../../stores/TestStore\";\n\nexport default class Chat extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.socket = this.props.socket;\n        this.onChatMessage = this.onChatMessage.bind(this);\n    }\n\n    componentDidMount() {\n    }\n\n    componentWillMount() {\n        TestStore.on(\"chat_message\", this.onChatMessage);\n    }\n\n    componentWillUnmount() {\n        TestStore.removeListener(\"chat_message\", this.onChatMessage);\n    }\n\n    onChatMessage() {\n        let message = TestStore.getChatMessage();\n        console.log(\"message\" + message);\n        addResponseMessage(message);\n        this.setState({});\n    }\n\n    handleNewUserMessage = (newMessage) => {\n\n        let message ={\n            type: \"sendMessage\",\n            action: \"sendMessage\",\n            body: {\n                Author: \"aa\",\n                Body : newMessage,\n                Room:  1,\n                Time: 0\n            }\n        };\n\n        this.socket.send(JSON.stringify(message));\n\n        console.log(`New message incomig! ${newMessage}`);\n    };\n\n    render() {\n        return (\n            <Widget\n                handleNewUserMessage={this.handleNewUserMessage}\n                title=\"\"\n                subtitle=\"\"\n            />\n        )\n    }\n\n}\n\n"]}]}