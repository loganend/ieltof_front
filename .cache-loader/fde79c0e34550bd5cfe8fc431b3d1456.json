{"remainingRequest":"/Users/serqeycheremisin/ieltof/node_modules/babel-loader/lib/index.js!/Users/serqeycheremisin/ieltof/src/stores/UserStore.js","dependencies":[{"path":"/Users/serqeycheremisin/ieltof/src/stores/UserStore.js","mtime":1525283418698},{"path":"/Users/serqeycheremisin/ieltof/.babelrc","mtime":1523141114949},{"path":"/Users/serqeycheremisin/ieltof/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/serqeycheremisin/ieltof/node_modules/babel-loader/lib/index.js","mtime":1520329890000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _events = require(\"events\");\n\nvar _dispatcher = require(\"../dispatcher\");\n\nvar _dispatcher2 = _interopRequireDefault(_dispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar UserStore = function (_EventEmitter) {\n    _inherits(UserStore, _EventEmitter);\n\n    function UserStore() {\n        _classCallCheck(this, UserStore);\n\n        var _this = _possibleConstructorReturn(this, (UserStore.__proto__ || Object.getPrototypeOf(UserStore)).call(this));\n\n        _this.state = {\n            profile: {},\n            users: [],\n            friends: new Map()\n        };\n        return _this;\n    }\n\n    _createClass(UserStore, [{\n        key: \"getProfile\",\n        value: function getProfile() {\n            return this.state.profile;\n        }\n    }, {\n        key: \"emitUsersEvent\",\n        value: function emitUsersEvent() {\n            this.emit(\"get_users_event\");\n        }\n    }, {\n        key: \"getUsers\",\n        value: function getUsers() {\n            return this.state.users;\n        }\n    }, {\n        key: \"emitChatPage\",\n        value: function emitChatPage() {\n            this.emit(\"get_friends_event\");\n        }\n    }, {\n        key: \"getFriends\",\n        value: function getFriends() {\n            return this.state.friends;\n        }\n    }, {\n        key: \"handleActions\",\n        value: function handleActions(action) {\n            var _this2 = this;\n\n            switch (action.type) {\n                case \"GET_USER_EVENT\":\n                    console.log(\"GET_USER_EVENT\");\n                    console.log(action.user);\n                    this.state.profile = action.user;\n                    break;\n\n                case \"GET_ALL_USERS_EVENT\":\n                    console.log(action.users);\n                    this.state.users = action.users;\n                    this.emitUsersEvent();\n                    break;\n\n                case \"GET_ALL_FRIENDS\":\n\n                    action.friends.map(function (el) {\n                        _this2.state.friends.set(el.friend_id, el);\n                    });\n\n                    this.emitChatPage();\n                default:\n\n            }\n        }\n    }]);\n\n    return UserStore;\n}(_events.EventEmitter);\n\nvar userStore = new UserStore();\n_dispatcher2.default.register(userStore.handleActions.bind(userStore));\nexports.default = userStore;",{"version":3,"sources":["src/stores/UserStore.js"],"names":["UserStore","state","profile","users","friends","Map","emit","action","type","console","log","user","emitUsersEvent","map","set","el","friend_id","emitChatPage","userStore","register","handleActions","bind"],"mappings":";;;;;;;;AAAA;;;;AACA;;AACA;;;;;;;;;;;;IAGMA,S;;;AACF,yBAAc;AAAA;;AAAA;;AAEV,cAAKC,KAAL,GAAa;AACTC,qBAAS,EADA;AAETC,mBAAO,EAFE;AAGTC,qBAAS,IAAIC,GAAJ;AAHA,SAAb;AAFU;AAOb;;;;qCAEY;AACT,mBAAO,KAAKJ,KAAL,CAAWC,OAAlB;AACH;;;yCAEgB;AACb,iBAAKI,IAAL,CAAU,iBAAV;AACH;;;mCAEU;AACP,mBAAO,KAAKL,KAAL,CAAWE,KAAlB;AACH;;;uCAEc;AACX,iBAAKG,IAAL,CAAU,mBAAV;AACH;;;qCAEY;AACT,mBAAO,KAAKL,KAAL,CAAWG,OAAlB;AACH;;;sCAEaG,M,EAAQ;AAAA;;AAClB,oBAAQA,OAAOC,IAAf;AACI,qBAAK,gBAAL;AACIC,4BAAQC,GAAR,CAAY,gBAAZ;AACAD,4BAAQC,GAAR,CAAYH,OAAOI,IAAnB;AACA,yBAAKV,KAAL,CAAWC,OAAX,GAAqBK,OAAOI,IAA5B;AACA;;AAEJ,qBAAK,qBAAL;AACIF,4BAAQC,GAAR,CAAYH,OAAOJ,KAAnB;AACA,yBAAKF,KAAL,CAAWE,KAAX,GAAmBI,OAAOJ,KAA1B;AACA,yBAAKS,cAAL;AACA;;AAEJ,qBAAK,iBAAL;;AAEIL,2BAAOH,OAAP,CAAeS,GAAf,CAAoB,cAAM;AACtB,+BAAKZ,KAAL,CAAWG,OAAX,CAAmBU,GAAnB,CAAuBC,GAAGC,SAA1B,EAAqCD,EAArC;AACH,qBAFD;;AAIA,yBAAKE,YAAL;AACJ;;AApBJ;AAuBH;;;;;;AAGL,IAAMC,YAAY,IAAIlB,SAAJ,EAAlB;AACA,qBAAWmB,QAAX,CAAoBD,UAAUE,aAAV,CAAwBC,IAAxB,CAA6BH,SAA7B,CAApB;kBACeA,S","file":"UserStore.js","sourceRoot":"/Users/serqeycheremisin/ieltof","sourcesContent":["import React from \"react\";\nimport {EventEmitter} from \"events\";\nimport dispatcher from \"../dispatcher\";\n\n\nclass UserStore extends EventEmitter {\n    constructor() {\n        super();\n        this.state = {\n            profile: {},\n            users: [],\n            friends: new Map()\n        }\n    }\n\n    getProfile() {\n        return this.state.profile;\n    }\n\n    emitUsersEvent() {\n        this.emit(\"get_users_event\");\n    }\n\n    getUsers() {\n        return this.state.users;\n    }\n\n    emitChatPage() {\n        this.emit(\"get_friends_event\")\n    }\n\n    getFriends() {\n        return this.state.friends;\n    }\n\n    handleActions(action) {\n        switch (action.type) {\n            case \"GET_USER_EVENT\":\n                console.log(\"GET_USER_EVENT\");\n                console.log(action.user);\n                this.state.profile = action.user;\n                break;\n\n            case \"GET_ALL_USERS_EVENT\":\n                console.log(action.users);\n                this.state.users = action.users;\n                this.emitUsersEvent();\n                break;\n\n            case \"GET_ALL_FRIENDS\":\n\n                action.friends.map((el => {\n                    this.state.friends.set(el.friend_id, el);\n                }));\n\n                this.emitChatPage();\n            default:\n\n        }\n    }\n}\n\nconst userStore = new UserStore;\ndispatcher.register(userStore.handleActions.bind(userStore));\nexport default userStore;"]}]}